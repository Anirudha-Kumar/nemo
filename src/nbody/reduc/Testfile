DIR = src/nbody/reduc
BIN = snapplot snapdiagplot snapplotv snapmradii radprof
NEED = $(BIN) hackcode1 mkplummer tabplot

help:
	@echo $(DIR)

need:
	@echo $(NEED)

clean:
	@echo Cleaning $(DIR)
	@rm -f snap.in hack.out hack2.out

NBODY = 10

all:	snap.in hack.out $(BIN)

snap.in:
	@echo Creating $@
	mkplummer snap.in $(NBODY) seed=123

hack.out: snap.in
	@echo Creating $@
	hackcode1 snap.in hack.out fcells=4 tstop=2 freqout=1 > /dev/null

hack2.out: snap.in
	@echo Creating $@
	hackcode1 snap.in hack2.out fcells=4 tstop=10 freqout=8 > /dev/null

snapplot: hack.out
	@echo Running $@
	snapplot hack.out nxy=2,2 nxticks=3 nyticks=3 ; nemo.coverage  snapplot.c

snapplotv: hack.out
	@echo Running $@
	snapplotv hack.out nxy=2,2 nxticks=3 nyticks=3 ; nemo.coverage snapplotv.c

snapdiagplot:  hack.out
	@echo Running $@
	snapdiagplot hack.out  ; nemo.coverage snapdiagplot.c

snapmradii: hack2.out
	@echo Running $@
	snapmradii hack2.out | tabplot - 1 2:9 line=1,1 ; nemo.coverage snapmradii.c

radprof:   snap.in
	@echo Running $@
	radprof snap.in tab=t > /dev/null ; nemo.coverage radprof.c
