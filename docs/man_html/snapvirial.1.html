<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>SNAPVIRIAL(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
This HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A> for <A HREF=https://astronemo.readthedocs.io>NEMO</A><br>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
snapvirial - scale snapshots while retaining or setting virial ratio

<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>snapvirial in=<i>in_file</i></b> <b>out=<i>out_file</i></b> [parameter=value] ... 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>snapvirial</i>
copies an N-body system from <b>in</b> to <b>out</b>, scaling particle qantities such
that the virial ratio is either retained or gets a specified value. For
a more manual rescale use <a href='snapscale.1.html'><i>snapscale(1NEMO)</i></a>
. <p>
The input snapshot must not
only contain masses and phase space information, but also potential, as
to make the rescaling computation a linear operation. Depending on accuracy
needed, a general algorithm as in <a href='hackforce.1.html'><i>hackforce(1NEMO)</i></a>
 can be used to add potentials
and forces  to a snapshot. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
 The following parameters are recognized
in order; they may be given in any order if the keyword is also given. Use
<b>--help</b> to confirm this man page is up to date.  
<dl>

<dt><b>in=<i>in_file</i></b> </dt>
<dd>input file, in
<a href='snapshot.5.html'><i>snapshot</i>(5NEMO)</a>
 format.  Default: none. </dd>

<dt><b>out=<i>out_file</i></b> </dt>
<dd>output file, also <i>snapshot</i>
format.  If none supplied, the  current virial ratio is reported, 1 being
the ideal virialized case. </dd>

<dt><b>mscale=<i>bool</i></b> </dt>
<dd>Scale the masses? [default: <b>f</b>]. </dd>

<dt><b>rscale=<i>bool</i></b>
</dt>
<dd>Scale the positions? [default: <b>t</b>]. </dd>

<dt><b>vscale=<i>bool</i></b> </dt>
<dd>Scale the velocities? [default:
<b>t</b>]. </dd>

<dt><b>times=<i>time-ranges</i></b> </dt>
<dd>Only snapshots with time values within <i>times-ranges</i>,
which is of the form <b>ts[:te],...</b>, will be scaled and  copied. [default: <b>all</b>].
</dd>

<dt><b>virial=</b><i>positive ratio</i> </dt>
<dd>Virial ratio (must be non-negative) to be obtained
- rescaling is done such that a virial ratio of |2T/W| is obtained. If no value
is given, the old virial ratio is retained [default: not used]. 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>

<p>
Scaling an already virialized Plummer sphere (see <a href='mkplummer.1.html'><i>mkplummer(1NEMO)</i></a>
), and
the Faber-Jackson relation, one can also use <a href='snapscale.1.html'><i>snapscale(1NEMO)</i></a>
 to scale such
models, here with a massfraction <b>a</b>: <br>
<pre>    a=0.1
    mkplummer plum1.dat 10000
    snapscale plum1.dat plum2.dat mscale="$a" rscale="$a**0.5" vscale="$a**0.25"
</pre>
<p> 
<p> 
<p> 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='snapscale.1.html'>snapscale(1NEMO)</a>
, <a href='hackforce.1.html'>hackforce(1NEMO)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>
, <a href='units.5.html'>units(5NEMO)</a>


<p> 
<h2><a name='sect6' href='#toc6'>Bugs</a></h2>
It is considered an error when either the potential energy is positive
or the kinetic energy is negative. This usually requires the snapshot to
be in the center of mass frame. Use <a href='snapcenter.1.html'><i>snapcenter(1NEMO)</i></a>
 if need be.  <p>
This program
has no intelligence about the shape of the system, and hence does a simple
rescaling of the required quantities.  It thus works quite well for spherical
galaxies. 
<p> 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter Teuben 
<h2><a name='sect8' href='#toc8'>Files</a></h2>
<br>
<pre>~/src/nbody/trans   <tt> </tt>&nbsp;<tt> </tt>&nbsp;snapvirial.c
</pre>
<p> 
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>12-March-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0: created          <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
 6-apr-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1: added keywords 2t/w (bug?)<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-aug-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.2: mscale added and logic improved       PJT
29-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.3: fixed decision bug<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-nov-91<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.3a: man page clarifications<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
18-jul-2012<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0:  reporting mode when out= left blank<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
13-jun-2022<tt> </tt>&nbsp;<tt> </tt>&nbsp;add snapscale example using Faber-Jackson<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre>
<p> 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Bugs</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Files</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
