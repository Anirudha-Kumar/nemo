<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>TABLE(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
get_atable, get_ftable, get_line, parse, strinsert - table manipulator
routines 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;stdinc.h&gt;int get_atable(instr,ncol,colnr,coldat,ndat)stream instr;int
ncol;    int colnr[]; real *coldat[];int ndat;      
int get_ftable(instr,ncol,colpos,colfmt,coldat,ndat)stream
instr;  int ncol;      int colpos[];  string *colfmt[];real *coldat[];
 int ndat;        
int get_line (instr, line)stream instr;char *line;
int
parse(linenr, line, dat, ndat)int linenr;char *line;double *dat;int ndat;
int
strinsert(a, b, n)char *a;char *b;int n;
int iscomment(line)char *line;</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
Both
<i>get_atable</i> and <i>get_ftable</i> parse an ascii table, pointed by the <i>instr</i> stream,
into <i>ncol</i> columns and up to <i>ndat</i> rows of <b>real</b> numbers into memory. The input
table may contain comment lines, as well as columns which are not numbers.
Badly parsed lines are simply skipped. Other common parameters to both routines
 are <i>coldat, ncol</i> and <i>ndat</i>: <i>coldat</i> is an array of <i>ncol</i> pointers to  previously
allocated data, each of them <i>ndat</i> <b>real</b> elements. The number of valid rows
read is then returned. If this number is negative, it means more data is
available, but could not be read because  <i>ndat</i> was exhausted. Upon the next
call <i>ndat</i> must be set to negative, to recover the last line read on the
previous call, and continue reading the table without missing a line. CAVEAT:
this only works if <i>instr</i> has not changed.  <p>
<i>get_atable</i> parses the table in
free format. <i>colnr</i> an array of length <i>ncol</i> of the column numbers to read
(1 being the first column), If any of the <i>colnr</i> is 0, it is  interpreted
as referring to the line number in the original input file (including/excluding
comment and empty lines),  1 being the first line, and the corresponding
entry in <i>coldat</i> is set as such. Columns are separated by whitespace or commas.
<p>
<i>get_ftable</i> parses the table in fixed format. <i>colpos</i> is an array with  positions
in the rows to start reading (1 being the first position), <i>colfmt</i> an array
of pointers to the format string used to parse a <b>real</b> number (note <b>real</b>
normally requires <i>%lf</i>). If any of the <i>colpos</i> is 0, it is interpreted as
referring to the line  number in the original input file (including comment
lines), 1 being the first line, and the corresponding entry in <i>coldat</i> is
set as such. <p>
The <a href='get_line.3.html'><i>get_line(3)</i></a>
 gets the next line from a stream <i>instr</i>, stored
into <i>line</i>. It returns the length of the string read, 0 if end of file. <p>
<i>parse</i>
parses the character string in <i>line</i> into the double array dat, which has
at most <i>ndat</i> entries. Parsing means that  <b>%n</b> refers to column <b>n</b> in the character
string (<b>n</b> must be larger than 0. Also <b>%0</b> may be referenced, meaning the
current line number, to be entered in the argument <i>linenr</i>. <p>
<i>strinsert</i> inserts
the string <i>b</i> into <i>a</i>, replacing <i>n</i> characters of <i>a</i>. <p>
<i>iscomment</i> returns 1 if
the line appears to be a comment (starts with &rsquo;;&rsquo;, &rsquo;#&rsquo;, &rsquo;!&rsquo; or a blank/newline)

<h2><a name='sect3' href='#toc3'>Diagnostics</a></h2>
Low-level catastrophies (eg, parsing errors, wrong delimiters)
generate messages via <a href='error.3NEMO.html'><i>error</i>(3NEMO)</a>
. 
<h2><a name='sect4' href='#toc4'>See Also</a></h2>
<a href='table.5NEMO.html'>table(5NEMO)</a>
 
<h2><a name='sect5' href='#toc5'>Files</a></h2>
<br>
<pre>src/kernel/tab  <tt> </tt>&nbsp;<tt> </tt>&nbsp;table.c gettab.c
</pre>
<h2><a name='sect6' href='#toc6'>Author</a></h2>
Peter Teuben 
<h2><a name='sect7' href='#toc7'>Update History</a></h2>
<br>
<pre>xx-sep-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 written<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-aug-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;documented get_Xtable functions  <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
1-sep-95<tt> </tt>&nbsp;<tt> </tt>&nbsp;added iscomment()<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
12-jul-03<tt> </tt>&nbsp;<tt> </tt>&nbsp;fixed reading large table buffereing<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Diagnostics</a></li>
<li><a name='toc4' href='#sect4'>See Also</a></li>
<li><a name='toc5' href='#sect5'>Files</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Update History</a></li>
</ul>
</body>
</html>
