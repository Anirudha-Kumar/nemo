<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>POTCODE(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
potcode - non-selfconsistent N-body code with options to dissipate/diffuse
orbits 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>potcode</b> [<i>parameter</i>=<i>value</i>] ... 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>potcode</i> is an equal-timestep
N-body integrator which is not  self-consistent. The forces and potential
are obtained from a standard potential descriptor, given by the three keywords
<b>potname=,potpars=,potfile=</b> (See also <i>potential(3,5NEMO)</i>). If the potential
is conservative, the energy will (should) be conserved, but the user is
of course free to pick any potential. <p>
In addition to integrating the equations
of motion, the particles are allowed to loose some (<b>eta</b>) of their random
energy (smoothed over a certain &lsquo;&lsquo;box&rsquo;&rsquo; size (<b>cell</b>)), and turn it into mean
orbital motion.  <p>
Orbits can also be diffused: each timestep the velocity
vector  can be rotated over the randomly gaussian distributed angle (<b>sigma</b>).
<p>
A special integration mode (mode=-1) will advance particles assuming their
orbits are epicycles, and launched with velocities deviating from the angular
velocity consistent with rotation. The supplied potential should be axisymmetric
and numerical derivatives are used to calculate the  angular, radial and
vertical frequencies such that the orbital motions can be solved for analytically.
from their guidance center. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters are recognized;
they may be given in any order. 
<dl>

<dt><b>in</b>=<i>in-file</i> </dt>
<dd>Initial conditions will be read
from <i>in-file</i> in snapshot format [default: none - but is required]. </dd>

<dt><b>out</b>=<i>out-file</i>
</dt>
<dd>If given, results are written to <i>out-file</i> in snapshot format [default: empty,
no snapshot output file produced]. </dd>

<dt><b>potname=</b><i>name</i> </dt>
<dd>name of file of <a href='potential.5NEMO.html'><i>potential(5NEMO)</i></a>

descriptor  [default: <b>harmonic</b>]. </dd>

<dt>potpars=<i>par-list</i> </dt>
<dd>List of parameters to the
potential descriptor. The first parameter must be the pattern speed in the
x-y plane, although rotating frames of reference are not yet supported. The
remaining parameters are used by the <i>_inipotential()</i> routine in the potential
descriptor. [default: none - let them be defined by routine itself]. </dd>

<dt><b>potfile=<i>file-name</i></b>
</dt>
<dd>name of an optional datafile to the potential descriptor. This might be
an N-body snapshot or list of spline fit coefficients etc. [default: none].
</dd>

<dt><b>save</b>=<i>state-file</i> </dt>
<dd>If given, the system state will be saved in <i>state-file</i> after
each timestep. Useful for some recovery after system crashes. </dd>

<dt><b>freq</b>=<i>integ-freq</i>
</dt>
<dd>Inverse time-step, to be used with the time integrator. [Default: <b>64.0</b> (64
steps per unit time)]. </dd>

<dt><b>mode</b>=<i>mode-number</i> </dt>
<dd>Integration modes, must be a number:
<br>
<pre>0=Euler (kick and drift at same time)
1=PC (Predictor Corrector) algorithm, 
2=modified PC algorithm, 
3=Runge-Kutta (JEB modified)
4=4th order Runge-Kutta.
5=leapfrog
6=modified Euler (kick done after drift)
-1=special epicyclic motion, full motion)
-2=special epicyclic motion, shows only epi motion

[default: 3].
















































tstop=stop-timeTime to stop integration in N-body model units.Default is 2.0.freqout=out-freqFrequency
of major N-body data outputs.Default is 4.0 (4 frames per unit time).minor_freqout=out-freqFrequency
of minor diagnostic outputs.Default is 32.0 (32 diagnostic measurements per
unit time).options=option-stringMiscellaneous control options, specified
as a comma-separated listof keywords.Currently recognized keywords are:reset_time:
when reading initial data, set tnow to zero;new_tout: when restarting,
set new output times;mass, phi, acc: output mass, potential,acceleration
data with major data outputs.eta=loss-fractionFraction of random energy that
is dissipated[Default: 0.0].cell=box-sizeCell size in which dissipation is
performed after every timestep.Dissipation is current performed on a cartesian
grid, in which cells are square (2D) or a cube (3D).[Default: 0.1].rmax=max_box-sizeMaximum
size of the "box" (actually cube) within which dissipationis performed.
If a negative number is given, the box is allow to growas large as is needed,
though this may consume a lot of memory.Default: -1, i.e. box can grow indefinite.fheat=fheatThe
ratio of diffusion angle to rms velocity dispersion in a cell.If fheat&gt;0,
each time dissipation is applied, the rmsvelocity dispersion in a cell
is computed, and a diffusion anglecomputed. The velocity vector of each
particle is thenrotated with a gaussian distributed value with rms fheat*velsig.This
in effect gives a dissipation dependant heating source. See alsosigma=,
which is position independant. [Default: 0].sigma=angleDiffusion angle, gaussian
distributed with this sigma, about whicheach velocity vector is rotated
after each timestep.[Default: 0].seed=random-seedRandom number seed, only
used when diffusion (sigma=) is used.0 must be used to get the random seed
from the time of the day.[Default: 0].headline=Identifying text for this
run. Default: not used.BugsRK, PC and PC1 don&rsquo;t work in rotating potential
- use EULER or RK4. Since cell is a fixed number throughout the execution,
is doesn&rsquo;t deal well with systems who&rsquo;s lenght-scale changes, in particular,

expanding systems will allocate more and more space to hold the dissipation
grid. DissipationVarious schemes of dissipation can be invoked. Here&rsquo;s one,
see also Lin &amp; Pringle (1974): For each cell the relative position and velocity
for each particle within that cell is computed: 
        R   =  r  - &lt;r &gt;
         i      i     i
        V   =  v  - &lt;v &gt;
         i      i     i
</pre>after which the dimensionless viscosity parameter &rsquo;alpha&rsquo; controls the new
velocity for each particle after a timestep: <br>
<pre>                                 &lt; R  x  V &gt;
                                    j     j
        u  =  &lt;v&gt;  - alpha  R  x ------------   +  (1-alpha) V
         i      i            i                                i
                                 &lt; R  .  R &gt;
                                    j     j  
</pre>
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='newton0.1NEMO.html'>newton0(1NEMO)</a>
, <a href='hackcode1.1NEMO.html'>hackcode1(1NEMO)</a>
, <a href='hackcode3.1NEMO.html'>hackcode3(1NEMO)</a>
, <a href='nbody0.1NEMO.html'>nbody0(1NEMO)</a>
,
<a href='snappot.1NEMO.html'>snappot(1NEMO)</a>
, <a href='snapshot.5NEMO.html'>snapshot(5NEMO)</a>
 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter Teuben 
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>5-feb-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 written  <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
3-apr-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0 new potential(5), renamed keywords<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
9-jun-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0 rotating pattern are now allowed - made rk4<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
17-jun-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.1 fix energy conservation in &rsquo;dissipation&rsquo;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
19-jun-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.2 added diffusion<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-oct-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V4.0 added rmax=, made options= same as hackcode1<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
24-oct-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V4.1 added fheat=        <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
5-mar-03<tt> </tt>&nbsp;<tt> </tt>&nbsp;V5.0 added mode=-1 to "integrate" orbits numerically on epicyclic orbits<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-jul-03<tt> </tt>&nbsp;<tt> </tt>&nbsp;(V5.1) compute guiding center<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT/RPO
12-aug-09<tt> </tt>&nbsp;<tt> </tt>&nbsp;V5.1 added leapfrog and modified euler<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>tstop=stop-timeTime to stop integration in N-body model units.Default is 2.0.freqout=out-freqFrequency of major N-body data outputs.Default is 4.0 (4 frames per unit time).minor_freqout=out-freqFrequency of minor diagnostic outputs.Default is 32.0 (32 diagnostic measurements per unit time).options=option-stringMiscellaneous control options, specified as a comma-separated listof keywords.Currently recognized keywords are:reset_time: when reading initial data, set tnow to zero;new_tout: when restarting, set new output times;mass, phi, acc: output mass, potential,acceleration data with major data outputs.eta=loss-fractionFraction of random energy that is dissipated[Default: 0.0].cell=box-sizeCell size in which dissipation is performed after every timestep.Dissipation is current performed on a cartesian grid, in which cells are square (2D) or a cube (3D).[Default: 0.1].rmax=max_box-sizeMaximum size of the "box" (actually cube) within which dissipationis performed. If a negative number is given, the box is allow to growas large as is needed, though this may consume a lot of memory.Default: -1, i.e. box can grow indefinite.fheat=fheatThe ratio of diffusion angle to rms velocity dispersion in a cell.If fheat>0, each time dissipation is applied, the rmsvelocity dispersion in a cell is computed, and a diffusion anglecomputed. The velocity vector of each particle is thenrotated with a gaussian distributed value with rms fheat*velsig.This in effect gives a dissipation dependant heating source. See alsosigma=, which is position independant. [Default: 0].sigma=angleDiffusion angle, gaussian distributed with this sigma, about whicheach velocity vector is rotated after each timestep.[Default: 0].seed=random-seedRandom number seed, only used when diffusion (sigma=) is used.0 must be used to get the random seed from the time of the day.[Default: 0].headline=Identifying text for this run. Default: not used.Bugs</a></li>
<li><a name='toc5' href='#sect5'>Dissipation</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
