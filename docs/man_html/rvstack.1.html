<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>RVSTACK(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
rvstack - Extract Radius-Velocity diagram from a data cube for later

<p>stacking 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>rvstack</b> in=cube out=map [parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
This
program takes all points within a (narrow) cone around the major or minor
axis of an assumed galaxy data cube, and construct a Radius-Velocity diagram,
centered on the galaxy in position and velocity.  It will properly stack
the two sides of the galaxy, so the radial coordinate will run from 0 to
some Rmax.  In velocity it will run from some Vmin to some Vmax, but always
expecting positive rotation and positive outflow, assuming the position
angles are correctly set. <p>
Weak signal rotation and/or bulk outflow could
be detected this way, but we offer no guarentee. <p>
Options exist to scale
the Radius and Velocity to different units, such that many galaxies can
be stacked in physical space, to increase the change to detect a signal.
<p>
You can also select to only construct the signal from one side of the galaxy.
See <b>side=</b> below. <p>
Points along an arc are all accumalated (technically: averaged),
and placed on the same radial grid as the pixel size in the input data
cube. We might need some trick next neighbor smoothing in order for pixels
near the center to have a value. 
<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters are
recognized in any order if the keyword is also given: 
<dl>

<dt><b>in=</b><i>image_cube</i> </dt>
<dd>input
data cube [No default] </dd>

<dt><b>out=</b><i>image_map</i> </dt>
<dd>output R-V map. Not implemented yet.
It currently prints out a table for inspection. </dd>

<dt><b>pa=</b> </dt>
<dd>position angle of the
receding side of disk [0]    </dd>

<dt><b>pan=</b> </dt>
<dd>position angle of the near side of disk,
or where you would expect the outflow. Normally this would be 90 degrees
away from the kinematic major axis from <b>pa=</b>. [90] </dd>

<dt><b>inc=</b> </dt>
<dd>inclination angle
of disk [45] </dd>

<dt><b>vsys=</b> </dt>
<dd>systemic velocity [0]    </dd>

<dt><b>center=</b><i>xpos,ypos</i> </dt>
<dd>rotation center
(mapcenter if left blank, 0,0=lower left) - <i>@todo: what about crpix?</i> </dd>

<dt><b>angle=</b>
</dt>
<dd>angle around major or minor axis around which points are accumulated into
the R-V plot. [Default: 10] </dd>

<dt><b>blank=</b> </dt>
<dd>Value of the blank pixel to be ignored.
</dd>

<dt><b>rscale=</b> </dt>
<dd>Scaling factor for radius. This would be more used to stack galaxies
based on a KPC scaling, or an Re scaling, not geometry, see <b>gscale=</b> below.
 [Default: 1] </dd>

<dt><b>vscale=</b> </dt>
<dd>Scaling factor for velocity. This would be more used
to stack galaxies based on a mass scaling, not geometry, see <b>gscale=</b> below.
[Default: 1] </dd>

<dt><b>gscale=f|t</b> </dt>
<dd>Scale for inclination based geometry. Rotation is
scaled by 1/sin(i), outflow by 1/cos(i). Radius is not scaled for rotation,
but by 1/cos(i) for outflow.   [Default: f] </dd>

<dt><b>mode=r|o</b> </dt>
<dd>Select output mode:
rotation (r) or <a href='outflow.o.html'>outflow (o)</a>
.   For rotation, points around <b>pa=</b> are selected,
for outflow, points around <b>pan=</b>. [Default: r] </dd>

<dt><b>side=0|-1|1</b> </dt>
<dd>By default it will
stack both sides, but this option will allow you to stack one or the other
side. [Default: 0] 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
An example using our standard NGC 6503 cube
given in km/s velocity units. 
<p> <br>
<pre>   pvstack ngc6503.ccd ngc6503-r.pv  pa=120 pan=120+90 inc=70 vsys=27 center=164,123
mode=rotation
   pvstack ngc6503.ccd ngc6503-o.pv  pa=120 pan=120+90 inc=70 vsys=27 center=164,123
mode=outflow
</pre>
<p> 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='ccdstack.1.html'>ccdstack(1NEMO)</a>
 
<p> 
<h2><a name='sect6' href='#toc6'>Files</a></h2>
src/image/rotcur 
<p> 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter Teuben 
<p> SH
"UPDATE HISTORY" <br>
<pre>5-May-21<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1 Draft<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Files</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
</ul>
</body>
</html>
