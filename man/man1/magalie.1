.TH MKKD95 1NEMO "21 March 2004"
.SH NAME
magalie \- Boily et al. composite disk-bulge-halo model
.SH SYNOPSIS
\fBmagalie\fP [parameter=value]
.SH DESCRIPTION
\fBmagalie\fP creates a composite Disk-Bulge-Halo galaxy in 
near equilibrium following the procedure described in
Boily et al.(2000). This program is merely a NEMO wrapper
that assembles all the correct parameters, runs the fortran
namesake program in a temporary rundirectory and converts the
ascii output to a NEMO \fIsnapshot(5NEMO)\fP.
.PP
.SH PARAMETERS
The following parameters are recognized in any order if the keyword
is also given:
.TP 20
\fBout=\fP
output snapshot (a rundirectory $out.tmpdir is also created). 
No default.
.TP
\fBndisk=\fP
Number of particles in disk. Set them to 0 to leave out this
component.
Notice these are the first set of particles in the final snapshot.
 [8000]  
.TP
\fBnbulge=\fP
Number of particles in bulge [4000]  
.TP
\fBnhalo=\fP
Number of particles in halo. 
Notice these are the last set of particles in the final snapshot.
[6000]  
.TP
\fBseed=\fP
Random seed.
[Default: 0]
.TP
\fBcleanup=t|f\fP
Cleanup runtime working directory?
[Default: t]
.SH INPUTFILE
\fBmagalie\fP calls the actual \fBmagalie.exe\fP by reading an input file
of parameters. Here is an annotation example of such a file (the comments
can be left in when read)
.nf
543216789       ! Random generator seed (ran1)
n               ! Output particles smooth length?
20000           ! Number of disc particles (M_d=1)
3.              ! Mass of disk (reset = 1 for default)
1.              ! Disc scalelength
.1              ! Disc scale height ( = 1/5 length )
2.43            ! Solar radius
1.5             ! Toomre Q parameter @ Sun ( was 3/2 -> close to 1)
.1              ! disc particle smoothing length (set to numerical resolution)
2.              ! z-max (= 10.*scale height)
10.             ! Max disc part radius
n               ! Gas in disc?
0               ! Number of disc gas particles
0.              ! mass of disc gas particles
0.              ! temperature of gas in disc
0.              ! scale height of gas in disc z0gas
0.              ! max z value of gas in disc (= 10 z0gas)
0.              ! max cylindrical radius of gas in disc
0.              ! min    "          "    "   "   "  "
n               ! include gas self-gravity (in disc)? [y/n]
n               ! Add bulge?
0.75            ! Mass of bulge
2.              ! Bulge scale length (hernquist 'a')
y               ! bulge self-gravity?
5000            ! N part in  bulge
10.             ! max radius for bulge particles
.01             ! softening length for particles
n               ! Non-spherical bulge?
.89             ! Value of minor axis ratio ( c/a < 1 )
1.              ! Z-max value for bulge particles
5               ! Number of Simpson integration steps
n               ! Include rotation ? (flip z-momentum component)
.0              ! Fraction of stars with aligned momentum (0<f<1)
n               ! Include a halo?
y               ! halo self-gravity ?
20.             ! max radius of halo
40000           ! Halo particle number
0.01            ! halo particle softening length
LH              ! Halo type (LH or IS)
10.             ! Halo mass
2.              ! Halo core radius  (need two lengths if IS halo)
2.              ! Second length : dummy (LH) or truncation radius (IS)
n               ! Non-spherical halo?
.5              ! aspect ratio (spheroid only)
n               ! Galactic satellite
.1              ! Satellite mass
1.              ! Satellite scale length (LH model only)
5.,0.,0.        ! xyz position of the satellite in Galaxy frame of reference
5.              ! maximum satellite size (compare with sat length scale)
y               ! Include satellite self-gravity ? (yes = live model only)
0               ! number of satellite particles
0.1             ! smoothing length for satelllite particles
b               ! data format for output (a)scii or (b)inary
nbody           ! formatted as LH, nbody
roundbulge      ! name of dataset (note - truncated at cr character)
.fi
.SH PERFORMANCE
.nf

20/5/40:  47.530u 
.fi
.SH SEE ALSO
.nf
mkkd95(1NEMO), tabtos(1NEMO), unfio(1NEMO)
Boily et al. - NewAst. 6, 27 (2001)
.SH FILES
.nf
NEMO/src/nbody/init/magalie.c
NEMO/usr/boily/Magalie/
.fi
.SH AUTHOR
.nf
Christian Boily, Pavel Kroupa, Jorge Penarrubia-Garrido (fortran code)
Peter Teuben (NEMO interface) -
.fi
.SH UPDATE HISTORY
.nf
.ta +1.0i +4.0i
dark ages	V1.0 See their NewA paper	Boily et al.
21-Mar-04	V1.1 Created at the Nbody school	PJT
.fi

